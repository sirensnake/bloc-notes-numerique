<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ğŸ Python - Trucs & astuces</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/style-python.css">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>

<body>
  <header>
    <div class="banner-container">
      <img src="img/banner.png" alt="BanniÃ¨re du site" class="banner-img">
    </div>
    <h1>ğŸ Python : Trucs & astuces</h1>
    <nav>
      <ul class="main-menu">
        <li><a href="index.html">ğŸ  Accueil</a></li>
        <li class="dropdown">
          <a href="#">ğŸ“š Python â–¼</a>
          <ul class="submenu">
            <li><a href="python-bases.html">ğŸ“˜ Bases</a></li>
            <li><a href="python-collections.html">ğŸ—‚ï¸ Collections</a></li>
            <li><a href="python-controle.html">ğŸ” ContrÃ´le</a></li>
            <li><a href="python-erreurs.html">âŒ Erreurs</a></li>
            <li><a href="python-fichiers.html">ğŸ“‚ Fichiers</a></li>
            <li><a href="python-fonctions.html">ğŸ› ï¸ Fonctions</a></li>
            <li><a href="python-modules.html">ğŸ§© Modules</a></li>
            <li><a href="python-poo.html">ğŸ›ï¸ POO</a></li>
            <li><a href="python-trucs.html">ğŸ§  Trucs</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </header>

  <main>
    <section class="intro">
      <p>Cette fiche rassemble des <strong>astuces pratiques</strong> et des <strong>techniques avancÃ©es</strong> pour amÃ©liorer votre code Python, optimiser vos scripts, et utiliser le langage de maniÃ¨re plus efficace au quotidien.</p>
    </section>

    <details class="sommaire">
      <summary>ğŸ“‘ Sommaire</summary>
      <ul>
        <li><a href="#walrus">OpÃ©rateur d'affectation d'expression (:=)</a></li>
        <li><a href="#comprehensions">ComprÃ©hensions avancÃ©es</a></li>
        <li><a href="#deballage">DÃ©ballage multiple</a></li>
        <li><a href="#exceptions">Gestion fine des exceptions</a></li>
        <li><a href="#performance">Mesurer la performance</a></li>
        <li><a href="#bonus">Bonus</a></li>
      </ul>
    </details>

    <section id="walrus">
      <h2>ğŸª„ L'opÃ©rateur "walrus" (:=)</h2>
      <p>Introduit avec Python 3.8, cet opÃ©rateur permet de rÃ©aliser une affectation dans une expression :</p>
      <pre><code># Sans opÃ©rateur walrus
texte = input("Entrez un texte : ")
if len(texte) > 0:
    print(f"Vous avez saisi {len(texte)} caractÃ¨res")

# Avec opÃ©rateur walrus
if (n := len(input("Entrez un texte : "))) > 0:
    print(f"Vous avez saisi {n} caractÃ¨res")</code></pre>
      <p>TrÃ¨s utile dans les conditions, les boucles while et les comprÃ©hensions :</p>
      <pre><code># Traiter des lignes jusqu'Ã  une ligne vide
while (ligne := input()) != "":
    print(f"Traitement de : {ligne}")

# Filtrer des rÃ©sultats avec une condition complexe
resultats = [resultat for x in data if (resultat := f(x)) > 0]</code></pre>
    </section>

    <section id="comprehensions">
      <h2>ğŸš€ ComprÃ©hensions avancÃ©es</h2>
      <p>Les comprÃ©hensions permettent d'Ã©crire du code concis et expressif :</p>
      <pre><code># ComprÃ©hension de liste avec conditions
nombres = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
cubes_pairs = [x**3 for x in nombres if x % 2 == 0]
print(cubes_pairs)  # [8, 64, 216, 512, 1000]

# ComprÃ©hension imbriquÃ©e (matrice 3x3)
matrice = [[i*3+j+1 for j in range(3)] for i in range(3)]
print(matrice)  # [[1, 2, 3], [4, 5, 6], [7, 8, 9]]

# ComprÃ©hension de dictionnaire avec condition
carre_pairs = {x: x**2 for x in range(10) if x % 2 == 0}
print(carre_pairs)  # {0: 0, 2: 4, 4: 16, 6: 36, 8: 64}

# ComprÃ©hension d'ensemble avec transformation
voyelles = {lettre.upper() for lettre in "bonjour" if lettre in "aeiouy"}
print(voyelles)  # {'O', 'U'}</code></pre>
    </section>

    <section id="deballage">
      <h2>âš™ï¸ DÃ©ballage multiple</h2>
      <p>Le dÃ©ballage (unpacking) permet d'extraire des valeurs de sÃ©quences de maniÃ¨re Ã©lÃ©gante :</p>
      <pre><code># DÃ©ballage simple
a, b, c = [1, 2, 3]
print(a, b, c)  # 1 2 3

# Ignorer certaines valeurs avec _
a, _, c = [1, 2, 3]
print(a, c)  # 1 3

# DÃ©ballage avec * (reste dans une liste)
premier, *milieu, dernier = [1, 2, 3, 4, 5]
print(premier)   # 1
print(milieu)    # [2, 3, 4]
print(dernier)   # 5

# Ã‰changer des valeurs sans variable temporaire
a, b = 10, 20
a, b = b, a
print(a, b)  # 20 10

# DÃ©ballage de dictionnaire avec **
def afficher_infos(nom, age, ville):
    print(f"{nom}, {age} ans, habite Ã  {ville}")

personne = {"nom": "Alice", "age": 30, "ville": "Paris"}
afficher_infos(**personne)  # Alice, 30 ans, habite Ã  Paris</code></pre>
    </section>

    <section id="exceptions">
      <h2>ğŸª¤ Gestion fine des exceptions</h2>
      <p>Capturez et gÃ©rez prÃ©cisÃ©ment les diffÃ©rents types d'erreurs :</p>
      <pre><code># Capture multiple d'exceptions
try:
    valeur = int(input("Entrez un nombre : "))
    resultat = 10 / valeur
    print(f"RÃ©sultat : {resultat}")
except ValueError:
    print("Ceci n'est pas un nombre valide")
except ZeroDivisionError:
    print("Division par zÃ©ro impossible")
except Exception as e:
    print(f"Erreur inattendue : {e}")
else:
    print("Aucune erreur n'est survenue")
finally:
    print("Cette partie s'exÃ©cute toujours")</code></pre>
      
      <p>Grouper plusieurs exceptions :</p>
      <pre><code>try:
    # Code susceptible de gÃ©nÃ©rer des erreurs
    pass
except (ValueError, TypeError) as e:
    print(f"Erreur de type : {e}")</code></pre>
    </section>

    <section id="performance">
      <h2>â±ï¸ Mesurer la performance</h2>
      <p>Plusieurs faÃ§ons de mesurer le temps d'exÃ©cution de votre code :</p>
      <pre><code># MÃ©thode simple avec time
import time

start = time.time()
# ... votre code ...
end = time.time()
print(f"DurÃ©e : {end - start:.4f} secondes")</code></pre>
      
      <p>Utilisation de <code>timeit</code> pour des mesures prÃ©cises :</p>
      <pre><code>import timeit

# Mesurer une ligne
temps = timeit.timeit('[x**2 for x in range(1000)]', number=10000)
print(f"Temps d'exÃ©cution : {temps:.4f} secondes")

# Mesurer une fonction
def ma_fonction():
    return sum(x**2 for x in range(1000))
    
temps = timeit.timeit(ma_fonction, number=10000)
print(f"Temps d'exÃ©cution : {temps:.4f} secondes")</code></pre>
      
      <p>DÃ©corateur pour profiler une fonction :</p>
      <pre><code>def chronometre(func):
    def wrapper(*args, **kwargs):
        start = time.time()
        result = func(*args, **kwargs)
        end = time.time()
        print(f"{func.__name__} a pris {end - start:.4f} secondes")
        return result
    return wrapper

@chronometre
def operation_couteuse():
    time.sleep(1)  # Simuler une opÃ©ration longue
    return "TerminÃ©"
    
operation_couteuse()  # Affiche : operation_couteuse a pris 1.0012 secondes</code></pre>
    </section>

    <details id="bonus" class="bonus">
      <summary>ğŸ Bonus : Astuces avancÃ©es</summary>
      
      <h3>ChaÃ®nes f (f-strings) avec formatage avancÃ©</h3>
      <pre><code># Format avec la spÃ©cification de prÃ©cision
nombre = 123.456789
print(f"{nombre:.2f}")  # 123.46

# Alignement et remplissage
for i in range(1, 11):
    print(f"{i:03d} - {i*i:4d} - {i*i*i:5d}")

# Formatage de dates
from datetime import datetime
maintenant = datetime.now()
print(f"{maintenant:%d/%m/%Y %H:%M}")  # Ex: 27/04/2025 14:30

# DÃ©bogage facile
x = 10
y = 20
print(f"{x=}, {y=}, {x+y=}")  # x=10, y=20, x+y=30</code></pre>
      
      <h3>Collections spÃ©cialisÃ©es</h3>
      <pre><code>from collections import Counter, defaultdict, namedtuple

# Counter pour compter les occurrences
texte = "abracadabra"
compteur = Counter(texte)
print(compteur)  # Counter({'a': 5, 'b': 2, 'r': 2, 'c': 1, 'd': 1})
print(compteur.most_common(2))  # [('a', 5), ('b', 2)]

# defaultdict pour des valeurs par dÃ©faut
fruits_par_couleur = defaultdict(list)
fruits_par_couleur["rouge"].append("pomme")  # Pas d'erreur mÃªme si la clÃ© n'existe pas
fruits_par_couleur["rouge"].append("fraise")
print(fruits_par_couleur)  # defaultdict(<class 'list'>, {'rouge': ['pomme', 'fraise']})

# namedtuple pour des tuples avec noms de champs
Point = namedtuple('Point', ['x', 'y'])
p = Point(10, 20)
print(p.x, p.y)  # 10 20
print(p)  # Point(x=10, y=20)</code></pre>
      
      <h3>Trucs pour le dÃ©bogage</h3>
      <pre><code># Utiliser pdb, le dÃ©bogueur intÃ©grÃ©
import pdb

def fonction_complexe(x):
    y = x * 2
    pdb.set_trace()  # Le programme s'arrÃªte ici et entre en mode dÃ©bogage
    z = y * 3
    return z

# Utiliser `breakpoint()` (Python 3.7+) Ã  la place de pdb.set_trace()
def autre_fonction(x):
    y = x * 2
    breakpoint()  # Ã‰quivalent Ã  pdb.set_trace()
    z = y * 3
    return z</code></pre>
    </details>

    <div class="bottom-buttons">
      <a class="button-return" href="index.html">ğŸ  Retour au sommaire gÃ©nÃ©ral</a>
      <button class="button" onclick="window.print()">ğŸ–¨ï¸ Exporter en PDF</button>
    </div>
  </main>

  <footer>
    <p>Â© 2025 Guillaume | Bloc-Note Technique ğŸ“š</p>
  </footer>

</body>
</html>