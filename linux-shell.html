<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ğŸ§ Linux - Shell et scripts</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>

<body>
  <header>
    <div class="banner-container">
      <img src="img/banner.png" alt="BanniÃ¨re du site" class="banner-img">
    </div>
    <h1>ğŸ§ Linux : Shell et scripts</h1>
    <nav>
      <ul class="main-menu">
        <li><a href="index.html">ğŸ  Accueil</a></li>
        <li><a href="fiche-git.html">ğŸ”§ Git</a></li>
        <li><a href="fiche-chocolatey.html">ğŸ« Chocolatey</a></li>
        <li><a href="fiche-powershell.html">âš¡ PowerShell</a></li>
        <li><a href="fiche-docker.html">ğŸ³ Docker</a></li>
        <li class="dropdown">
          <a href="#">ğŸ§ Linux â–¼</a>
          <ul class="submenu">
            <li><a href="linux-utilisateurs.html">ğŸ‘¤ Utilisateurs</a></li>
            <li><a href="linux-fichiers.html">ğŸ“ Fichiers</a></li>
            <li><a href="linux-reseau.html">ğŸŒ RÃ©seau</a></li>
            <li><a href="linux-paquets.html">ğŸ“¦ Paquets</a></li>
            <li><a href="linux-securite.html">ğŸ” SÃ©curitÃ©</a></li>
            <li><a href="linux-shell.html">ğŸš Shell</a></li>
            <li><a href="linux-systeme.html">âš™ï¸ SystÃ¨me</a></li>
            <li><a href="linux-trucs.html">ğŸ§  Trucs</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#">ğŸ Python â–¼</a>
          <ul class="submenu">
            <li><a href="python-bases.html">ğŸ“˜ Bases</a></li>
            <li><a href="python-collections.html">ğŸ—‚ï¸ Collections</a></li>
            <li><a href="python-controle.html">ğŸ” ContrÃ´le</a></li>
            <li><a href="python-erreurs.html">âŒ Erreurs</a></li>
            <li><a href="python-fichiers.html">ğŸ“‚ Fichiers</a></li>
            <li><a href="python-fonctions.html">ğŸ› ï¸ Fonctions</a></li>
            <li><a href="python-modules.html">ğŸ§© Modules</a></li>
            <li><a href="python-poo.html">ğŸ›ï¸ POO</a></li>
            <li><a href="python-trucs.html">ğŸ§  Trucs</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#">ğŸ“¦ VBoxManage â–¼</a>
          <ul class="submenu">
            <li><a href="fiche-vboxmanage.html">ğŸ“˜ Commandes VBoxManage</a></li>
            <li><a href="fiche-vboxmanage-interactive.html">ğŸ–±ï¸ Interface interactive</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </header>

  <main>
    <section class="intro">
      <p>Le <strong>shell</strong> est l'interface en ligne de commande de Linux. Il permet d'exÃ©cuter des commandes et d'automatiser des tÃ¢ches via des scripts. Cette fiche prÃ©sente les bases du shell Bash, le plus couramment utilisÃ© sur les systÃ¨mes Linux.</p>
    </section>

    <details class="sommaire">
      <summary>ğŸ“‘ Sommaire</summary>
      <ul>
        <li><a href="#base">Commandes de base</a></li>
        <li><a href="#scripts">CrÃ©ation de scripts</a></li>
        <li><a href="#variables">Variables et paramÃ¨tres</a></li>
        <li><a href="#structures">Structures de contrÃ´le</a></li>
        <li><a href="#fonctions">Fonctions</a></li>
        <li><a href="#redirection">Redirection et pipes</a></li>
        <li><a href="#bonus">Bonus</a></li>
      </ul>
    </details>

    <section id="base">
      <h2>ğŸš Commandes de base</h2>
      <p>Les commandes fondamentales pour interagir avec le shell :</p>
      <pre><code>echo "Bonjour monde"    # Affiche du texte
echo $HOME             # Affiche la valeur d'une variable
read nom               # Lit une entrÃ©e utilisateur et la stocke dans la variable nom
echo "Salut $nom"      # Affiche la valeur de la variable
date                   # Affiche la date et l'heure
pwd                    # Affiche le rÃ©pertoire courant
whoami                 # Affiche l'utilisateur actuel</code></pre>
      
      <p>Utilisation de l'historique des commandes :</p>
      <pre><code>history                # Affiche l'historique des commandes
!123                   # ExÃ©cute la commande numÃ©ro 123 de l'historique
!!                     # ExÃ©cute la derniÃ¨re commande</code></pre>
    </section>

    <section id="scripts">
      <h2>ğŸ“ CrÃ©ation de scripts</h2>
      <p>Un script shell est un fichier texte contenant une sÃ©rie de commandes :</p>
      <pre><code>#!/bin/bash
# Mon premier script shell
# Le shebang #!/bin/bash indique quel interprÃ©teur utiliser

nom="Guillaume"
echo "Bonjour $nom"

echo "Aujourd'hui nous sommes le $(date +%d/%m/%Y)"
echo "Le rÃ©pertoire courant est : $(pwd)"</code></pre>
      
      <p>Pour rendre le script exÃ©cutable et l'exÃ©cuter :</p>
      <pre><code>chmod +x monscript.sh    # Rend le script exÃ©cutable
./monscript.sh          # ExÃ©cute le script</code></pre>
      
      <p>Vous pouvez aussi l'exÃ©cuter sans le rendre exÃ©cutable :</p>
      <pre><code>bash monscript.sh        # ExÃ©cute le script avec bash</code></pre>
    </section>

    <section id="variables">
      <h2>ğŸ”¤ Variables et paramÃ¨tres</h2>
      <p>DÃ©claration et utilisation des variables :</p>
      <pre><code># DÃ©finition de variables
nom="Guillaume"
age=30
CONSTANTE="Valeur fixe"

# Utilisation de variables
echo "Je m'appelle $nom et j'ai $age ans"
echo "Je m'appelle ${nom} et j'ai ${age} ans"  # Syntaxe avec accolades

# Variables spÃ©ciales
echo "Nom du script : $0"
echo "Premier argument : $1"
echo "DeuxiÃ¨me argument : $2"
echo "Tous les arguments : $@"
echo "Nombre d'arguments : $#"
echo "PID du script : $$"
echo "Code de retour de la derniÃ¨re commande : $?"</code></pre>
      
      <p>Lire des entrÃ©es utilisateur :</p>
      <pre><code># Lecture simple
read -p "Entrez votre nom : " nom
echo "Bonjour $nom"

# Lecture avec timeout
read -p "Entrez votre mot de passe : " -t 10 -s password
echo -e "\nVotre mot de passe a Ã©tÃ© enregistrÃ©."</code></pre>
    </section>

    <section id="structures">
      <h2>ğŸ”„ Structures de contrÃ´le</h2>
      <p>Les structures conditionnelles et les boucles :</p>
      <pre><code># Structure if-elif-else
if [ "$age" -lt 18 ]; then
  echo "Mineur"
elif [ "$age" -eq 18 ]; then
  echo "Tout juste majeur"
else
  echo "Majeur"
fi

# Boucle for
for i in 1 2 3 4 5; do
  echo "NumÃ©ro $i"
done

# Boucle for avec range
for i in {1..5}; do
  echo "NumÃ©ro $i"
done

# Boucle for de style C
for ((i=1; i<=5; i++)); do
  echo "NumÃ©ro $i"
done

# Boucle while
compteur=1
while [ $compteur -le 5 ]; do
  echo "Compteur : $compteur"
  ((compteur++))
done

# Boucle until (jusqu'Ã  ce que)
compteur=5
until [ $compteur -lt 1 ]; do
  echo "DÃ©compte : $compteur"
  ((compteur--))
done

# Structure case (switch)
read -p "Entrez un fruit : " fruit
case $fruit in
  "pomme")
    echo "C'est une pomme"
    ;;
  "orange"|"citron")
    echo "C'est un agrume"
    ;;
  *)
    echo "Fruit non reconnu"
    ;;
esac</code></pre>
      
      <p>OpÃ©rateurs de comparaison pour les nombres :</p>
      <ul>
        <li><code>-eq</code> : Ã©gal Ã </li>
        <li><code>-ne</code> : diffÃ©rent de</li>
        <li><code>-gt</code> : supÃ©rieur Ã </li>
        <li><code>-ge</code> : supÃ©rieur ou Ã©gal Ã </li>
        <li><code>-lt</code> : infÃ©rieur Ã </li>
        <li><code>-le</code> : infÃ©rieur ou Ã©gal Ã </li>
      </ul>
      
      <p>OpÃ©rateurs pour les chaÃ®nes :</p>
      <ul>
        <li><code>=</code> ou <code>==</code> : Ã©gal Ã </li>
        <li><code>!=</code> : diffÃ©rent de</li>
        <li><code>-z</code> : chaÃ®ne vide</li>
        <li><code>-n</code> : chaÃ®ne non vide</li>
      </ul>
    </section>

    <section id="fonctions">
      <h2>ğŸ§© Fonctions</h2>
      <p>DÃ©claration et utilisation des fonctions :</p>
      <pre><code># DÃ©finition de fonction
saluer() {
  echo "Bonjour $1 !"
  return 0
}

# Fonction avec variables locales
calculer_somme() {
  local a=$1
  local b=$2
  echo $((a + b))
}

# Appel de fonction
saluer "Guillaume"
somme=$(calculer_somme 5 3)
echo "La somme est : $somme"</code></pre>
    </section>

    <section id="redirection">
      <h2>ğŸ“Š Redirection et pipes</h2>
      <p>Rediriger les entrÃ©es et sorties :</p>
      <pre><code># Redirection de sortie
echo "Hello" > fichier.txt     # Ã‰crit dans le fichier (Ã©crase)
echo "World" >> fichier.txt    # Ajoute au fichier

# Redirection d'entrÃ©e
sort < liste_noms.txt          # Trie le contenu du fichier

# Redirection d'erreur
command 2> erreurs.log         # Redirige les erreurs vers un fichier
command > output.log 2>&1      # Redirige stdout et stderr vers un fichier

# Pipes (tubes)
cat fichier.txt | grep "mot"   # Filtre les lignes contenant "mot"
ps aux | grep firefox | wc -l  # Compte les processus firefox</code></pre>
    </section>

    <details id="bonus" class="bonus">
      <summary>ğŸ Bonus : Techniques avancÃ©es</summary>
      
      <h3>Expressions rÃ©guliÃ¨res</h3>
      <pre><code># VÃ©rification avec regex
if [[ $email =~ ^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$ ]]; then
  echo "Email valide"
else
  echo "Email invalide"
fi</code></pre>
      
      <h3>Tests sur les fichiers</h3>
      <pre><code>if [ -f "$fichier" ]; then
  echo "Le fichier existe"
fi

if [ -d "$dossier" ]; then
  echo "Le dossier existe"
fi

if [ -x "$script" ]; then
  echo "Le script est exÃ©cutable"
fi</code></pre>
      
      <h3>Manipulation de chaÃ®nes</h3>
      <pre><code># Longueur d'une chaÃ®ne
texte="Bonjour"
echo "Longueur : ${#texte}"

# Sous-chaÃ®ne
echo "Les 3 premiers caractÃ¨res : ${texte:0:3}"

# Substitution
echo "${texte/jour/soir}"  # Remplace jour par soir</code></pre>
      
      <h3>Tableaux</h3>
      <pre><code># DÃ©clarer un tableau
fruits=("pomme" "orange" "banane")

# AccÃ©der aux Ã©lÃ©ments
echo "Premier fruit : ${fruits[0]}"

# Parcourir un tableau
for fruit in "${fruits[@]}"; do
  echo "Fruit : $fruit"
done

# Longueur du tableau
echo "Nombre de fruits : ${#fruits[@]}"</code></pre>
    </details>

    <div class="bottom-buttons">
      <a class="button-return" href="index.html">ğŸ  Retour au sommaire gÃ©nÃ©ral</a>
      <button class="button" onclick="window.print()">ğŸ–¨ï¸ Exporter en PDF</button>
    </div>
  </main>

  <footer>
    <p>Â© 2025 Guillaume | Bloc-Note Technique ğŸ“š</p>
  </footer>

</body>
</html>