<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ğŸ§ Linux - SÃ©curitÃ© et permissions</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>

<body>
  <header>
    <div class="banner-container">
      <img src="img/banner.png" alt="BanniÃ¨re du site" class="banner-img">
    </div>
    <h1>ğŸ§ Linux : SÃ©curitÃ© et permissions</h1>
    <nav>
      <ul class="main-menu">
        <li><a href="index.html">ğŸ  Accueil</a></li>
        <li><a href="fiche-git.html">ğŸ”§ Git</a></li>
        <li><a href="fiche-chocolatey.html">ğŸ« Chocolatey</a></li>
        <li><a href="fiche-powershell.html">âš¡ PowerShell</a></li>
        <li><a href="fiche-docker.html">ğŸ³ Docker</a></li>
        <li class="dropdown">
          <a href="#">ğŸ§ Linux â–¼</a>
          <ul class="submenu">
            <li><a href="linux-utilisateurs.html">ğŸ‘¤ Utilisateurs</a></li>
            <li><a href="linux-fichiers.html">ğŸ“ Fichiers</a></li>
            <li><a href="linux-reseau.html">ğŸŒ RÃ©seau</a></li>
            <li><a href="linux-paquets.html">ğŸ“¦ Paquets</a></li>
            <li><a href="linux-securite.html">ğŸ” SÃ©curitÃ©</a></li>
            <li><a href="linux-shell.html">ğŸš Shell</a></li>
            <li><a href="linux-systeme.html">âš™ï¸ SystÃ¨me</a></li>
            <li><a href="linux-trucs.html">ğŸ§  Trucs</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#">ğŸ Python â–¼</a>
          <ul class="submenu">
            <li><a href="python-bases.html">ğŸ“˜ Bases</a></li>
            <li><a href="python-collections.html">ğŸ—‚ï¸ Collections</a></li>
            <li><a href="python-controle.html">ğŸ” ContrÃ´le</a></li>
            <li><a href="python-erreurs.html">âŒ Erreurs</a></li>
            <li><a href="python-fichiers.html">ğŸ“‚ Fichiers</a></li>
            <li><a href="python-fonctions.html">ğŸ› ï¸ Fonctions</a></li>
            <li><a href="python-modules.html">ğŸ§© Modules</a></li>
            <li><a href="python-poo.html">ğŸ›ï¸ POO</a></li>
            <li><a href="python-trucs.html">ğŸ§  Trucs</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#">ğŸ“¦ VBoxManage â–¼</a>
          <ul class="submenu">
            <li><a href="fiche-vboxmanage.html">ğŸ“˜ Commandes VBoxManage</a></li>
            <li><a href="fiche-vboxmanage-interactive.html">ğŸ–±ï¸ Interface interactive</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </header>

  <main>
    <section class="intro">
      <p>La <strong>sÃ©curitÃ©</strong> est un aspect fondamental des systÃ¨mes Linux. Cette fiche couvre les commandes essentielles pour gÃ©rer les permissions de fichiers, les utilisateurs, les groupes, et configurer les outils de sÃ©curitÃ© de base comme le pare-feu.</p>
    </section>

    <details class="sommaire">
      <summary>ğŸ“‘ Sommaire</summary>
      <ul>
        <li><a href="#permissions">Permissions de fichiers</a></li>
        <li><a href="#chmod">Utilisation de chmod</a></li>
        <li><a href="#chown">Changer les propriÃ©taires</a></li>
        <li><a href="#sudo">Superutilisateur et sudo</a></li>
        <li><a href="#parefeu">Pare-feu (ufw)</a></li>
        <li><a href="#ssh">SÃ©curitÃ© SSH</a></li>
        <li><a href="#bonus">Bonus</a></li>
      </ul>
    </details>

    <section id="permissions">
      <h2>ğŸ” Permissions de fichiers</h2>
      <p>Le systÃ¨me de permissions Linux utilise un modÃ¨le basÃ© sur l'utilisateur, le groupe et les autres utilisateurs :</p>
      <pre><code>ls -l                     # Affiche les permissions</code></pre>
      <p>Exemple de sortie :</p>
      <pre><code>-rwxr-xr-- 1 user group 4096 avr 27 14:30 script.sh</code></pre>
      <p>DÃ©cryptage des permissions :</p>
      <ul>
        <li>Premier caractÃ¨re : type (- pour fichier, d pour rÃ©pertoire)</li>
        <li>Trois caractÃ¨res suivants (rwx) : permissions pour le propriÃ©taire</li>
        <li>Trois caractÃ¨res suivants (r-x) : permissions pour le groupe</li>
        <li>Trois derniers caractÃ¨res (r--) : permissions pour les autres</li>
      </ul>
      <p>Signification des lettres :</p>
      <ul>
        <li><code>r</code> : lecture (read)</li>
        <li><code>w</code> : Ã©criture (write)</li>
        <li><code>x</code> : exÃ©cution (execute)</li>
        <li><code>-</code> : permission non accordÃ©e</li>
      </ul>
    </section>

    <section id="chmod">
      <h2>ğŸ› ï¸ Utilisation de chmod</h2>
      <p>La commande <code>chmod</code> (change mode) modifie les permissions des fichiers :</p>
      <pre><code>chmod u+x fichier.sh     # Ajoute l'exÃ©cution au propriÃ©taire
chmod g+w fichier.txt    # Ajoute l'Ã©criture au groupe
chmod o-r fichier.conf   # Retire la lecture aux autres
chmod a+r fichier.log    # Ajoute la lecture pour tous</code></pre>
      
      <p>Notation numÃ©rique (octal) :</p>
      <pre><code>chmod 755 fichier.sh     # rwxr-xr-x
chmod 644 fichier.txt    # rw-r--r--
chmod 600 clÃ©_privÃ©e     # rw-------
chmod 777 fichier        # rwxrwxrwx (Ã©viter, trop permissif)</code></pre>
      
      <p>Explication des valeurs octales :</p>
      <ul>
        <li><code>4</code> = lecture (r)</li>
        <li><code>2</code> = Ã©criture (w)</li>
        <li><code>1</code> = exÃ©cution (x)</li>
      </ul>
      <p>On additionne les valeurs pour chaque catÃ©gorie d'utilisateur (propriÃ©taire, groupe, autres). Par exemple, 7 = 4+2+1 = rwx</p>
      
      <pre><code>chmod -R 755 dossier/   # Change rÃ©cursivement les permissions d'un dossier</code></pre>
    </section>

    <section id="chown">
      <h2>ğŸ‘¤ Changer les propriÃ©taires</h2>
      <p>Modifiez le propriÃ©taire et le groupe d'un fichier :</p>
      <pre><code>chown user:group fichier.txt # Change le propriÃ©taire et le groupe
chown utilisateur fichier    # Change seulement le propriÃ©taire
chgrp groupe fichier         # Change seulement le groupe
chown -R user:group dossier/ # Change rÃ©cursivement pour un dossier</code></pre>
    </section>

    <section id="sudo">
      <h2>ğŸ”‘ Superutilisateur et sudo</h2>
      <p>La commande <code>sudo</code> permet d'exÃ©cuter des commandes avec les privilÃ¨ges administrateur :</p>
      <pre><code>sudo commande             # ExÃ©cute une commande en administrateur
sudo -i                  # Ouvre un shell root
sudo -l                  # Liste les privilÃ¨ges sudo de l'utilisateur
visudo                   # Ã‰dite la configuration sudo (toujours utiliser cette commande)</code></pre>
      
      <p>Configurer sudo pour un utilisateur (via visudo) :</p>
      <pre><code># Permettre Ã  un utilisateur d'exÃ©cuter toutes les commandes
utilisateur ALL=(ALL:ALL) ALL

# Permettre Ã  un utilisateur d'exÃ©cuter certaines commandes sans mot de passe
utilisateur ALL=(ALL) NOPASSWD: /sbin/shutdown, /sbin/reboot</code></pre>
    </section>

    <section id="parefeu">
      <h2>ğŸ›¡ï¸ Pare-feu (ufw)</h2>
      <p>UFW (Uncomplicated Firewall) est une interface simplifiÃ©e pour gÃ©rer le pare-feu iptables :</p>
      <pre><code>sudo ufw status           # Ã‰tat du pare-feu
sudo ufw enable          # Active ufw
sudo ufw disable         # DÃ©sactive ufw
sudo ufw allow 22        # Autorise SSH (port 22)
sudo ufw allow ssh       # Autorise SSH (par nom de service)
sudo ufw deny 80         # Bloque HTTP
sudo ufw allow from 192.168.1.0/24 to any port 22  # Autorise SSH seulement du rÃ©seau local
sudo ufw delete allow 80 # Supprime une rÃ¨gle</code></pre>
      
      <p>Configuration de rÃ¨gles plus complexes :</p>
      <pre><code>sudo ufw allow 5000:5100/tcp   # Autorise une plage de ports TCP
sudo ufw allow 5000:5100/udp   # Autorise une plage de ports UDP
sudo ufw status numbered       # Liste les rÃ¨gles avec numÃ©ros
sudo ufw delete 3              # Supprime la rÃ¨gle numÃ©ro 3</code></pre>
    </section>

    <section id="ssh">
      <h2>ğŸ”’ SÃ©curitÃ© SSH</h2>
      <p>AmÃ©liorez la sÃ©curitÃ© de votre serveur SSH :</p>
      <pre><code># Modifier la configuration SSH
sudo nano /etc/ssh/sshd_config

# Appliquer les changements
sudo systemctl restart sshd</code></pre>
      
      <p>Modifications recommandÃ©es :</p>
      <pre><code># DÃ©sactiver la connexion root
PermitRootLogin no

# Utiliser uniquement le protocole SSH v2
Protocol 2

# Limiter les utilisateurs autorisÃ©s
AllowUsers utilisateur1 utilisateur2

# Changer le port par dÃ©faut (optionnel)
Port 2222</code></pre>
      
      <p>Utilisation des clÃ©s SSH :</p>
      <pre><code># GÃ©nÃ©rer une paire de clÃ©s
ssh-keygen -t rsa -b 4096

# Copier la clÃ© sur un serveur distant
ssh-copy-id utilisateur@serveur</code></pre>
    </section>

    <details id="bonus" class="bonus">
      <summary>ğŸ Bonus : SÃ©curitÃ© avancÃ©e</summary>
      
      <h3>Fail2ban</h3>
      <p>Fail2ban est un outil qui bloque automatiquement les adresses IP aprÃ¨s plusieurs tentatives de connexion Ã©chouÃ©es :</p>
      <pre><code>sudo apt install fail2ban
sudo systemctl enable fail2ban
sudo systemctl start fail2ban

# VÃ©rifier le statut
sudo fail2ban-client status

# VÃ©rifier une prison spÃ©cifique
sudo fail2ban-client status sshd</code></pre>
      
      <h3>AppArmor</h3>
      <p>AppArmor est un systÃ¨me de contrÃ´le d'accÃ¨s qui limite les ressources systÃ¨me qu'un programme peut utiliser :</p>
      <pre><code>sudo aa-status             # VÃ©rifier le statut d'AppArmor
sudo aa-enforce /etc/apparmor.d/usr.bin.firefox  # Appliquer un profil
sudo apparmor_parser -r /etc/apparmor.d/profile  # Recharger un profil</code></pre>
      
      <h3>VÃ©rification d'intÃ©gritÃ©</h3>
      <pre><code># Installer AIDE (Advanced Intrusion Detection Environment)
sudo apt install aide

# Initialiser la base de donnÃ©es
sudo aideinit

# VÃ©rifier l'intÃ©gritÃ© du systÃ¨me
sudo aide --check</code></pre>
    </details>

    <div class="bottom-buttons">
      <a class="button-return" href="index.html">ğŸ  Retour au sommaire gÃ©nÃ©ral</a>
      <button class="button" onclick="window.print()">ğŸ–¨ï¸ Exporter en PDF</button>
    </div>
  </main>

  <footer>
    <p>Â© 2025 Guillaume | Bloc-Note Technique ğŸ“š</p>
  </footer>

</body>
</html>