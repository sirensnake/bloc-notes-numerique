<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ğŸ§ Linux - Utilisateurs et permissions</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>

<body>
  <header>
    <div class="banner-container">
      <img src="img/banner.png" alt="BanniÃ¨re du site" class="banner-img">
    </div>
    <h1>ğŸ§ Linux : Utilisateurs et permissions</h1>
    <nav>
      <ul class="main-menu">
        <li><a href="index.html">ğŸ  Accueil</a></li>
        <li><a href="fiche-git.html">ğŸ”§ Git</a></li>
        <li><a href="fiche-chocolatey.html">ğŸ« Chocolatey</a></li>
        <li><a href="fiche-powershell.html">âš¡ PowerShell</a></li>
        <li><a href="fiche-docker.html">ğŸ³ Docker</a></li>
        <li class="dropdown">
          <a href="#">ğŸ§ Linux â–¼</a>
          <ul class="submenu">
            <li><a href="linux-utilisateurs.html">ğŸ‘¤ Utilisateurs</a></li>
            <li><a href="linux-fichiers.html">ğŸ“ Fichiers</a></li>
            <li><a href="linux-reseau.html">ğŸŒ RÃ©seau</a></li>
            <li><a href="linux-paquets.html">ğŸ“¦ Paquets</a></li>
            <li><a href="linux-securite.html">ğŸ” SÃ©curitÃ©</a></li>
            <li><a href="linux-shell.html">ğŸš Shell</a></li>
            <li><a href="linux-systeme.html">âš™ï¸ SystÃ¨me</a></li>
            <li><a href="linux-trucs.html">ğŸ§  Trucs</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#">ğŸ Python â–¼</a>
          <ul class="submenu">
            <li><a href="python-bases.html">ğŸ“˜ Bases</a></li>
            <li><a href="python-collections.html">ğŸ—‚ï¸ Collections</a></li>
            <li><a href="python-controle.html">ğŸ” ContrÃ´le</a></li>
            <li><a href="python-erreurs.html">âŒ Erreurs</a></li>
            <li><a href="python-fichiers.html">ğŸ“‚ Fichiers</a></li>
            <li><a href="python-fonctions.html">ğŸ› ï¸ Fonctions</a></li>
            <li><a href="python-modules.html">ğŸ§© Modules</a></li>
            <li><a href="python-poo.html">ğŸ›ï¸ POO</a></li>
            <li><a href="python-trucs.html">ğŸ§  Trucs</a></li>
          </ul>
        </li>
        <li class="dropdown">
          <a href="#">ğŸ“¦ VBoxManage â–¼</a>
          <ul class="submenu">
            <li><a href="fiche-vboxmanage.html">ğŸ“˜ Commandes VBoxManage</a></li>
            <li><a href="fiche-vboxmanage-interactive.html">ğŸ–±ï¸ Interface interactive</a></li>
          </ul>
        </li>
      </ul>
    </nav>
  </header>

  <main>
    <section class="intro">
      <p>Cette fiche prÃ©sente les <strong>commandes essentielles</strong> pour gÃ©rer les utilisateurs, les groupes et les permissions sous Linux. Le systÃ¨me de contrÃ´le d'accÃ¨s basÃ© sur les utilisateurs et les groupes est un aspect fondamental de la sÃ©curitÃ© sous Linux.</p>
    </section>

    <details class="sommaire">
      <summary>ğŸ“‘ Sommaire</summary>
      <ul>
        <li><a href="#gestion-utilisateurs">Gestion des utilisateurs</a></li>
        <li><a href="#groupes">Groupes et appartenance</a></li>
        <li><a href="#droits">Droits et permissions</a></li>
        <li><a href="#mots-passe">Gestion des mots de passe</a></li>
        <li><a href="#info-utilisateurs">Informations sur les utilisateurs</a></li>
        <li><a href="#sudo">Configuration de sudo</a></li>
        <li><a href="#bonus">Bonus</a></li>
      </ul>
    </details>

    <section id="gestion-utilisateurs">
      <h2>ğŸ‘¤ Gestion des utilisateurs</h2>
      <p>Commandes pour crÃ©er, modifier et supprimer des utilisateurs :</p>
      <pre><code>sudo adduser nom_utilisateur          # Ajouter un utilisateur (interactif)
sudo useradd nom_utilisateur          # Ajouter un utilisateur (non interactif)
sudo userdel nom_utilisateur          # Supprimer un utilisateur
sudo userdel -r nom_utilisateur       # Supprimer l'utilisateur et son rÃ©pertoire personnel
sudo usermod -L nom_utilisateur       # Verrouiller un compte
sudo usermod -U nom_utilisateur       # DÃ©verrouiller un compte</code></pre>
      
      <p>Modifier les propriÃ©tÃ©s d'un utilisateur :</p>
      <pre><code>sudo usermod -aG sudo utilisateur     # Ajouter au groupe sudo (administrateur)
sudo usermod -d /nouveau/home user    # Changer le rÃ©pertoire personnel
sudo usermod -s /bin/bash utilisateur # Changer le shell par dÃ©faut
sudo usermod -c "Commentaire" user    # Ajouter un commentaire/description</code></pre>
    </section>

    <section id="groupes">
      <h2>ğŸ‘¥ Groupes et appartenance</h2>
      <p>GÃ©rer les groupes et l'appartenance des utilisateurs :</p>
      <pre><code>sudo groupadd nom_du_groupe          # CrÃ©er un groupe
sudo groupdel nom_du_groupe          # Supprimer un groupe
sudo groupmod -n nouveau ancien      # Renommer un groupe

sudo gpasswd -a utilisateur groupe   # Ajouter un utilisateur Ã  un groupe
sudo gpasswd -d utilisateur groupe   # Retirer un utilisateur d'un groupe
sudo usermod -aG groupe utilisateur  # Ajouter Ã  un groupe (alternative)
sudo deluser utilisateur groupe      # Retirer d'un groupe (alternative)</code></pre>
      
      <p>DÃ©finir le groupe principal d'un utilisateur :</p>
      <pre><code>sudo usermod -g groupe utilisateur    # Change le groupe primaire</code></pre>
      
      <p>Afficher les groupes :</p>
      <pre><code>groups                              # Affiche vos groupes
groups utilisateur                   # Affiche les groupes d'un utilisateur
getent group                         # Liste tous les groupes du systÃ¨me
getent group nom_du_groupe           # Affiche les membres d'un groupe</code></pre>
    </section>

    <section id="droits">
      <h2>ğŸ” Droits et permissions</h2>
      <p>GÃ©rer les permissions sur les fichiers et rÃ©pertoires :</p>
      <pre><code>chmod +x script.sh                    # Ajouter droit d'exÃ©cution
chmod u+x script.sh                  # Ajouter exÃ©cution seulement au propriÃ©taire
chmod g+w fichier                    # Ajouter Ã©criture au groupe
chmod o-r fichier                    # Retirer lecture aux autres

chmod 755 fichier                    # rwxr-xr-x (propriÃ©taire tout, autres lecture/exÃ©cution)
chmod 644 fichier                    # rw-r--r-- (propriÃ©taire lecture/Ã©criture, autres lecture)
chmod 700 dossier                    # rwx------ (accÃ¨s total au propriÃ©taire uniquement)
chmod -R 755 dossier/                # Appliquer rÃ©cursivement Ã  un dossier</code></pre>
      
      <p>Changer le propriÃ©taire et le groupe d'un fichier :</p>
      <pre><code>sudo chown utilisateur fichier        # Changer le propriÃ©taire
sudo chown utilisateur:groupe fichier # Changer propriÃ©taire et groupe
sudo chgrp groupe fichier            # Changer uniquement le groupe
sudo chown -R user:groupe dossier/   # Changer rÃ©cursivement pour un dossier</code></pre>
    </section>

    <section id="mots-passe">
      <h2>ğŸ”‘ Gestion des mots de passe</h2>
      <p>Commandes pour gÃ©rer les mots de passe :</p>
      <pre><code>sudo passwd nom_utilisateur          # Modifier le mot de passe d'un utilisateur
passwd                              # Modifier votre propre mot de passe
sudo passwd -l utilisateur          # Verrouiller le compte (mot de passe)
sudo passwd -u utilisateur          # DÃ©verrouiller le compte
sudo passwd -e utilisateur          # Forcer l'expiration du mot de passe
sudo passwd -x 90 utilisateur       # DÃ©finir durÃ©e max. avant changement (90 jours)
sudo passwd -n 10 utilisateur       # DurÃ©e min. entre changements (10 jours)</code></pre>
      
      <p>VÃ©rifier les paramÃ¨tres du mot de passe :</p>
      <pre><code>sudo chage -l utilisateur            # Afficher les informations d'expiration
sudo chage -d 0 utilisateur         # Forcer le changement au prochain login</code></pre>
    </section>

    <section id="info-utilisateurs">
      <h2>â„¹ï¸ Informations sur les utilisateurs</h2>
      <p>Commandes pour obtenir des informations sur les utilisateurs :</p>
      <pre><code>id                                   # Affiche vos ID utilisateur et groupes
id nom_utilisateur                  # Affiche les IDs et groupes d'un utilisateur
finger utilisateur                  # Informations dÃ©taillÃ©es (si installÃ©)
who                                 # Utilisateurs actuellement connectÃ©s
w                                   # Utilisateurs connectÃ©s avec plus de dÃ©tails
last                                # Historique des connexions
lastlog                             # DerniÃ¨re connexion de chaque utilisateur</code></pre>
      
      <p>Fichiers systÃ¨me importants :</p>
      <pre><code>cat /etc/passwd                      # Base de donnÃ©es des utilisateurs
cat /etc/group                      # Base de donnÃ©es des groupes
cat /etc/shadow                     # Mots de passe chiffrÃ©s (root uniquement)</code></pre>
    </section>

    <section id="sudo">
      <h2>âš¡ Configuration de sudo</h2>
      <p>Configurer les privilÃ¨ges sudo :</p>
      <pre><code>sudo visudo                          # Ã‰diter le fichier de configuration sudo

# Exemples de configuration dans sudoers
username ALL=(ALL:ALL) ALL          # AccÃ¨s complet Ã  toutes les commandes
username ALL=(ALL:ALL) NOPASSWD: ALL # Sans mot de passe (dangereux)
username ALL=(ALL:ALL) NOPASSWD: /bin/systemctl restart apache2  # Commande spÃ©cifique</code></pre>
      
      <p>VÃ©rifier vos privilÃ¨ges sudo :</p>
      <pre><code>sudo -l                              # Liste vos privilÃ¨ges sudo</code></pre>
    </section>

    <details id="bonus" class="bonus">
      <summary>ğŸ Bonus : Techniques avancÃ©es</summary>
      
      <h3>ACL (Access Control Lists)</h3>
      <p>Les ACL permettent une gestion plus fine des permissions que chmod :</p>
      <pre><code># Installation des outils ACL
sudo apt install acl

# Lister les ACL d'un fichier
getfacl fichier.txt

# Donner des permissions Ã  un utilisateur spÃ©cifique
setfacl -m u:utilisateur:rw- fichier.txt

# Donner des permissions Ã  un groupe spÃ©cifique
setfacl -m g:groupe:r-- fichier.txt

# Supprimer une ACL
setfacl -x u:utilisateur fichier.txt</code></pre>
      
      <h3>Quotas disque</h3>
      <pre><code># Installation des outils de quota
sudo apt install quota

# Configuration dans /etc/fstab
# Ajouter usrquota,grpquota aux options de montage

# Activer les quotas
sudo quotacheck -ugm /home
sudo quotaon -v /home

# DÃ©finir le quota
sudo edquota -u utilisateur</code></pre>
      
      <h3>Limitations des ressources</h3>
      <pre><code># Limiter les ressources d'un utilisateur dans /etc/security/limits.conf
username soft nproc 100   # Limite Ã  100 processus
username hard cpu 2       # Limite Ã  2 CPU</code></pre>
    </details>

    <div class="bottom-buttons">
      <a class="button-return" href="index.html">ğŸ  Retour au sommaire gÃ©nÃ©ral</a>
      <button class="button" onclick="window.print()">ğŸ–¨ï¸ Exporter en PDF</button>
    </div>
  </main>

  <footer>
    <p>Â© 2025 Guillaume | Bloc-Note Technique ğŸ“š</p>
  </footer>

</body>
</html>